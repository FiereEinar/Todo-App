(()=>{"use strict";const e={events:{},subscribe:function(e,t){console.log(`PUBSUB: someone just subscribed to know about ${e}`),this.events[e]=this.events[e]||[],this.events[e].push(t)},unsubscribe:function(e,t){console.log(`PUBSUB: someone just UNsubscribed from ${e}`),this.events[e]&&(this.events[e]=this.events[e].filter((e=>e!==t)))},publish:function(e,t){console.log(`PUBSUB: Making an broadcast about ${e} with ${t}`),this.events[e]&&this.events[e].forEach((e=>{e(t)}))}};class t{constructor(e,t,o){this.title=e,this.description=t,this.dueDate=o,this.done=!1}}const o={todos:[],createTodo:(s,c,i)=>{if(""==s.value||""==c.value||""==i.value)return void console.log("cancelled");const d=new t(s.value,c.value,i.value);o.addTodo(d),e.publish("todoUpdated",o.todos),console.log(o.todos)},addTodo:e=>{o.todos.push(e)},removeTodo:e=>{o.todos=o.todos.filter((t=>t.title!==e))}},s=document.querySelector(".addTaskButton"),c=document.querySelector(".addTaskDialog"),i=document.querySelector(".closeDialog"),d=document.querySelector(".submitDialog"),a=document.querySelector(".addTaskDialog #title"),n=document.querySelector(".addTaskDialog #description"),l=document.querySelector(".addTaskDialog #dueDate");s.addEventListener("click",(()=>{c.classList.add("active")})),i.addEventListener("click",(()=>{c.classList.remove("active")})),d.addEventListener("click",(()=>{o.createTodo(a,n,l),a.value="",n.value="",l.value="",c.classList.remove("active")}))})();